(()=>{var e={};e.id=702,e.ids=[702],e.modules={2934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},4580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},5869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},1807:(e,t,a)=>{"use strict";a.r(t),a.d(t,{GlobalError:()=>n.a,__next_app__:()=>m,originalPathname:()=>h,pages:()=>d,routeModule:()=>x,tree:()=>o}),a(9521),a(3321),a(7869),a(4481),a(1506),a(5866);var s=a(3191),r=a(8716),l=a(7922),n=a.n(l),i=a(5231),c={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>i[e]);a.d(t,c);let o=["",{children:["dashboard",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(a.bind(a,9521)),"D:\\s7\\flame\\performance-dashboard\\app\\dashboard\\page.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,3321)),"D:\\s7\\flame\\performance-dashboard\\app\\dashboard\\layout.tsx"],error:[()=>Promise.resolve().then(a.bind(a,7869)),"D:\\s7\\flame\\performance-dashboard\\app\\dashboard\\error.tsx"],loading:[()=>Promise.resolve().then(a.bind(a,4481)),"D:\\s7\\flame\\performance-dashboard\\app\\dashboard\\loading.tsx"]}]},{layout:[()=>Promise.resolve().then(a.bind(a,1506)),"D:\\s7\\flame\\performance-dashboard\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(a.t.bind(a,5866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\s7\\flame\\performance-dashboard\\app\\dashboard\\page.tsx"],h="/dashboard/page",m={require:a,loadChunk:()=>Promise.resolve()},x=new s.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/dashboard/page",pathname:"/dashboard",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},3831:(e,t,a)=>{Promise.resolve().then(a.bind(a,4651))},353:(e,t,a)=>{Promise.resolve().then(a.bind(a,1582))},7324:()=>{},1945:(e,t,a)=>{Promise.resolve().then(a.t.bind(a,2994,23)),Promise.resolve().then(a.t.bind(a,6114,23)),Promise.resolve().then(a.t.bind(a,9727,23)),Promise.resolve().then(a.t.bind(a,9671,23)),Promise.resolve().then(a.t.bind(a,1868,23)),Promise.resolve().then(a.t.bind(a,4759,23))},5303:()=>{},4651:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l});var s=a(326),r=a(7577);function l({error:e,reset:t}){return(0,r.useEffect)(()=>{console.error(e)},[e]),(0,s.jsxs)("div",{className:"flex flex-col items-center justify-center min-h-screen",children:[s.jsx("h2",{className:"text-2xl font-bold mb-4",children:"Something went wrong!"}),s.jsx("button",{onClick:()=>t(),className:"px-4 py-2 bg-blue-500 text-white rounded",children:"Try again"})]})}},1582:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>M});var s=a(326),r=a(7577);class l{measureRender(e){let t=performance.now(),a=e(),s=performance.now();return this.renderTimes.push(s-t),this.renderTimes.length>this.maxSamples&&this.renderTimes.shift(),a}update(){this.frameCount++;let e=performance.now(),t=e-this.lastTime;t>=1e3&&(this.fps=1e3*this.frameCount/t,this.frameCount=0,this.lastTime=e)}getMetrics(e){let t=this.renderTimes.length>0?this.renderTimes.reduce((e,t)=>e+t,0)/this.renderTimes.length:0,a=performance.memory?performance.memory.usedJSHeapSize/1048576:0;return{fps:Math.round(10*this.fps)/10,renderTime:Math.round(100*t)/100,memoryUsage:Math.round(100*a)/100,dataPointCount:e}}reset(){this.frameCount=0,this.lastTime=performance.now(),this.renderTimes=[]}constructor(){this.frameCount=0,this.lastTime=performance.now(),this.fps=60,this.renderTimes=[],this.maxSamples=60}}let n=(0,r.createContext)(void 0);function i({children:e,data:t,aggregationPeriod:a,filters:l,setAggregationPeriod:i,setFilters:c}){let o=(0,r.useMemo)(()=>{let e;return e=[...t],l.dateRange&&(e=e.filter(e=>e.timestamp>=l.dateRange.start&&e.timestamp<=l.dateRange.end)),l.valueRange&&(e=e.filter(e=>(!l.valueRange.min||e.value>=l.valueRange.min)&&(!l.valueRange.max||e.value<=l.valueRange.max))),l.categories&&l.categories.length>0&&(e=e.filter(e=>e.category&&l.categories.includes(e.category))),e},[t,l]),d=(0,r.useMemo)(()=>(function(e,t){if(0===e.length)return[];let a=new Map;e.forEach(e=>{let s=Math.floor(e.timestamp/t.milliseconds)*t.milliseconds;a.has(s)||a.set(s,[]),a.get(s).push(e)});let s=[];return a.forEach((e,t)=>{let a=e.reduce((e,t)=>e+t.value,0)/e.length;s.push({timestamp:t,value:a,category:e[0]?.category})}),s.sort((e,t)=>e.timestamp-t.timestamp)})(o,a),[o,a]),h=(0,r.useMemo)(()=>({data:o,aggregatedData:d,aggregationPeriod:a,filters:l,setAggregationPeriod:i,setFilters:c}),[o,d,a,l,i,c]);return s.jsx(n.Provider,{value:h,children:e})}class c{constructor(e){let t=e.getContext("2d",{alpha:!1});if(!t)throw Error("Failed to get 2d context");this.ctx=t,this.width=e.width,this.height=e.height,this.setupContext()}setupContext(){let e=window.devicePixelRatio||1;this.ctx.scale(e,e),this.ctx.imageSmoothingEnabled=!0,this.ctx.imageSmoothingQuality="high"}clear(){this.ctx.clearRect(0,0,this.width,this.height)}setSize(e,t){this.width=e,this.height=t}drawLine(e,t="#000",a=2){if(!(e.length<2)){this.ctx.strokeStyle=t,this.ctx.lineWidth=a,this.ctx.lineCap="round",this.ctx.lineJoin="round",this.ctx.beginPath(),this.ctx.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++)this.ctx.lineTo(e[t].x,e[t].y);this.ctx.stroke()}}drawPath(e,t="#000",a=2,s){if(!(e.length<2)){this.ctx.beginPath(),this.ctx.moveTo(e[0].x,e[0].y);for(let t=1;t<e.length;t++)this.ctx.lineTo(e[t].x,e[t].y);s&&(this.ctx.lineTo(e[e.length-1].x,this.height),this.ctx.lineTo(e[0].x,this.height),this.ctx.closePath(),this.ctx.fillStyle=s,this.ctx.fill()),this.ctx.strokeStyle=t,this.ctx.lineWidth=a,this.ctx.stroke()}}drawRect(e,t,a,s,r,l=!0){l?(this.ctx.fillStyle=r,this.ctx.fillRect(e,t,a,s)):(this.ctx.strokeStyle=r,this.ctx.strokeRect(e,t,a,s))}drawCircle(e,t,a,s,r=!0){this.ctx.beginPath(),this.ctx.arc(e,t,a,0,2*Math.PI),r?(this.ctx.fillStyle=s,this.ctx.fill()):(this.ctx.strokeStyle=s,this.ctx.stroke())}drawGrid(e,t,a,s="#e0e0e0",r=1){this.ctx.strokeStyle=s,this.ctx.lineWidth=r;let l=e.width/t,n=e.height/a;for(let a=0;a<=t;a++){let t=e.x+a*l;this.ctx.beginPath(),this.ctx.moveTo(t,e.y),this.ctx.lineTo(t,e.y+e.height),this.ctx.stroke()}for(let t=0;t<=a;t++){let a=e.y+t*n;this.ctx.beginPath(),this.ctx.moveTo(e.x,a),this.ctx.lineTo(e.x+e.width,a),this.ctx.stroke()}}drawText(e,t,a,s="#000",r=12,l="left"){this.ctx.fillStyle=s,this.ctx.font=`${r}px sans-serif`,this.ctx.textAlign=l,this.ctx.textBaseline="middle",this.ctx.fillText(e,t,a)}getContext(){return this.ctx}}function o(e,t,a,s,r){return a===t?s:(e-t)/(a-t)*(r-s)+s}function d({config:e,data:t,color:a="#3b82f6",showGrid:s=!0}){let l=(0,r.useRef)(null),n=(0,r.useRef)(null);return(0,r.useEffect)(()=>{if(l.current){let t=l.current,a=window.devicePixelRatio||1;t.width=e.width*a,t.height=e.height*a,t.style.width=`${e.width}px`,t.style.height=`${e.height}px`,n.current=new c(t)}},[e.width,e.height]),{canvasRef:l,render:(0,r.useCallback)(()=>{if(!n.current||0===t.length)return;let a=n.current;a.clear();let r={x:e.margin.left,y:e.margin.top,width:e.width-e.margin.left-e.margin.right,height:e.height-e.margin.top-e.margin.bottom};s&&a.drawGrid(r,10,10,"#e5e7eb",.5);let l=e.xMin??t[0]?.timestamp??0,i=e.xMax??t[t.length-1]?.timestamp??1,c=t.map(e=>e.value),d=e.yMin??Math.min(...c,0),h=e.yMax??Math.max(...c,100);return{renderer:a,points:t.map(e=>({x:o(e.timestamp,l,i,r.x,r.x+r.width),y:o(e.value,d,h,r.y+r.height,r.y)})),bounds:r,xMin:l,xMax:i,yMin:d,yMax:h}},[e,t,a,s]),renderer:n.current}}let h=(0,r.memo)(function({data:e,config:t,color:a="#3b82f6",showGrid:l=!0,onRender:n}){let{canvasRef:i,render:c}=d({config:t,data:e,color:a,showGrid:l}),o=(0,r.useCallback)(()=>{let e=c();if(!e)return;let{renderer:t,points:s,bounds:r}=e;t.drawPath(s,a,2,`${a}20`),t.drawLine(s,a,2),s.length<1e3&&s.forEach(e=>{t.drawCircle(e.x,e.y,2,a,!0)}),n?.()},[c,a,n]);return(0,r.useEffect)(()=>{o()},[o]),s.jsx("canvas",{ref:i,className:"chart-canvas"})}),m=(0,r.memo)(function({data:e,config:t,color:a="#10b981",showGrid:l=!0,onRender:n}){let{canvasRef:i,render:c}=d({config:t,data:e,color:a,showGrid:l}),h=(0,r.useCallback)(()=>{let e=c();if(!e)return;let{renderer:t,points:s,bounds:r,yMin:l,yMax:i}=e,d=r.width/Math.max(s.length,1),h=o(0,l,i,r.y+r.height,r.y);s.forEach((e,s)=>{let r=e.x-d/2,l=h-e.y,n=Math.min(e.y,h);t.drawRect(r,n,.8*d,Math.abs(l),a,!0)}),n?.()},[c,a,n]);return(0,r.useEffect)(()=>{h()},[h]),s.jsx("canvas",{ref:i,className:"chart-canvas"})}),x=(0,r.memo)(function({data:e,config:t,color:a="#8b5cf6",pointSize:l=4,showGrid:n=!0,onRender:i}){let{canvasRef:c,render:o}=d({config:t,data:e,color:a,showGrid:n}),h=(0,r.useCallback)(()=>{let e=o();if(!e)return;let{renderer:t,points:s}=e;s.forEach(e=>{t.drawCircle(e.x,e.y,l,a,!0)}),i?.()},[o,a,l,i]);return(0,r.useEffect)(()=>{h()},[h]),s.jsx("canvas",{ref:c,className:"chart-canvas"})});function u(e,t,a){let s=(e-t)/(a-t);return`rgb(${Math.floor(255*s)}, 0, ${Math.floor(255*(1-s))})`}let g=(0,r.memo)(function({width:e,height:t,data:a,config:l,colorScale:n=u,onRender:i}){let o=(0,r.useRef)(null),d=(0,r.useRef)(null);(0,r.useEffect)(()=>{if(o.current){let e=o.current,t=window.devicePixelRatio||1;e.width=l.width*t,e.height=l.height*t,e.style.width=`${l.width}px`,e.style.height=`${l.height}px`,d.current=new c(e)}},[l.width,l.height]);let h=(0,r.useCallback)(()=>{if(!d.current||0===a.length)return;let e=d.current;e.clear();let t={x:l.margin.left,y:l.margin.top,width:l.width-l.margin.left-l.margin.right,height:l.height-l.margin.top-l.margin.bottom},s=a.map(e=>e.value),r=Math.min(...s),c=Math.max(...s),o=Array.from(new Set(a.map(e=>e.x))).sort((e,t)=>e-t),h=Array.from(new Set(a.map(e=>e.y))).sort((e,t)=>e-t),m=t.width/o.length,x=t.height/h.length,u=new Map;a.forEach(e=>{u.set(`${e.x},${e.y}`,e.value)}),o.forEach((a,s)=>{h.forEach((l,i)=>{let o=n(u.get(`${a},${l}`)??0,r,c),d=t.x+s*m,h=t.y+i*x;e.drawRect(d,h,m,x,o,!0)})}),i?.()},[a,l,n,i]);return(0,r.useEffect)(()=>{h()},[h]),s.jsx("canvas",{ref:o,className:"chart-canvas"})}),f=(0,r.memo)(function({onFilterChange:e,valueRange:t}){let[a,l]=(0,r.useState)(""),[n,i]=(0,r.useState)(""),c=(0,r.useCallback)(t=>{let a=t.target.value;l(a),e({valueRange:{min:a?parseFloat(a):void 0,max:n?parseFloat(n):void 0}})},[n,e]),o=(0,r.useCallback)(t=>{let s=t.target.value;i(s),e({valueRange:{min:a?parseFloat(a):void 0,max:s?parseFloat(s):void 0}})},[a,e]);return(0,s.jsxs)("div",{className:"filter-panel",children:[(0,s.jsxs)("h3",{className:"text-base md:text-lg font-semibold mb-4 text-black flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Filter by Value"]}),(0,s.jsxs)("div",{className:"flex flex-col sm:flex-row gap-3",children:[(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-black mb-1",children:"Minimum"}),s.jsx("input",{type:"number",placeholder:"Min value",value:a,onChange:c,className:"input-field w-full"})]}),(0,s.jsxs)("div",{className:"flex-1",children:[s.jsx("label",{className:"block text-xs text-black mb-1",children:"Maximum"}),s.jsx("input",{type:"number",placeholder:"Max value",value:n,onChange:o,className:"input-field w-full"})]})]})]})}),p=[{label:"1 Minute",value:"1min",milliseconds:6e4},{label:"5 Minutes",value:"5min",milliseconds:3e5},{label:"1 Hour",value:"1hour",milliseconds:36e5}],b=(0,r.memo)(function({onPeriodChange:e,onDateRangeChange:t}){let[a,l]=(0,r.useState)(p[0]),n=(0,r.useCallback)(t=>{l(t),e(t)},[e]),i=(0,r.useCallback)(e=>{let a=Date.now();t?.(a-36e5*e,a)},[t]);return(0,s.jsxs)("div",{className:"time-range-selector",children:[(0,s.jsxs)("h3",{className:"text-base md:text-lg font-semibold mb-4 text-black flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Time Range"]}),s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:p.map(e=>s.jsx("button",{onClick:()=>n(e),className:`px-3 py-2 text-sm rounded-lg font-medium transition-all ${a.value===e.value?"bg-gradient-to-r from-purple-500 to-indigo-500 text-white shadow-lg transform scale-105":"bg-gray-100 text-black hover:bg-gray-200"}`,children:e.label},e.value))}),(0,s.jsxs)("div",{children:[s.jsx("label",{className:"block text-xs text-black mb-2",children:"Quick Range"}),(0,s.jsxs)("div",{className:"flex gap-2",children:[s.jsx("button",{onClick:()=>i(1),className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors text-black",children:"1H"}),s.jsx("button",{onClick:()=>i(6),className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors text-black",children:"6H"}),s.jsx("button",{onClick:()=>i(24),className:"px-3 py-1.5 text-xs bg-gray-100 hover:bg-gray-200 rounded-lg font-medium transition-colors text-black",children:"24H"})]})]})]})}),v=[{key:"timestamp",label:"Timestamp"},{key:"value",label:"Value"},{key:"category",label:"Category"}],y=(0,r.memo)(function({data:e,columns:t=v}){let{containerRef:a,visibleItems:l,totalHeight:n}=function(e,{itemHeight:t,containerHeight:a,overscan:s=3}){let[l,n]=(0,r.useState)(0),i=(0,r.useRef)(null),c=e.length*t,o=Math.max(0,Math.floor(l/t)-s),d=Math.min(e.length-1,Math.ceil((l+a)/t)+s),h=(0,r.useMemo)(()=>e.slice(o,d+1).map((e,a)=>({item:e,index:o+a,offset:(o+a)*t})),[e,o,d,t]),m=(0,r.useCallback)(e=>{n(e.currentTarget.scrollTop)},[]);return(0,r.useEffect)(()=>{let e=i.current;if(e)return e.addEventListener("scroll",m),()=>{e.removeEventListener("scroll",m)}},[m]),{containerRef:i,visibleItems:h,totalHeight:c,startIndex:o,endIndex:d,scrollTop:l,handleScroll:m}}(e,{itemHeight:40,containerHeight:400,overscan:5}),i=(0,r.useRef)(null),c=(0,r.useRef)(new Map);(0,r.useEffect)(()=>{i.current&&i.current.style.setProperty("--table-height",`${n}px`)},[n]),(0,r.useEffect)(()=>{l.forEach(({index:e,offset:t})=>{let a=c.current.get(e);a&&(a.style.setProperty("--row-top",`${t}px`),a.style.setProperty("--row-height","40px"))})},[l,40]);let o=e=>new Date(e).toLocaleString(),d=e=>"number"==typeof e?e.toFixed(2):e??"-";return(0,s.jsxs)("div",{className:"data-table",children:[s.jsx("div",{className:"overflow-auto border rounded data-table-container",ref:a,children:s.jsx("div",{className:"data-table-content",ref:i,children:(0,s.jsxs)("table",{className:"w-full",children:[s.jsx("thead",{className:"sticky top-0 bg-gray-100 z-10 border-b-2 border-gray-300",children:s.jsx("tr",{children:t.map(e=>s.jsx("th",{className:"px-4 py-2 text-left font-semibold text-black",children:e.label},e.key))})}),s.jsx("tbody",{children:l.map(({item:e,index:a,offset:r})=>s.jsx("tr",{ref:e=>{e?c.current.set(a,e):c.current.delete(a)},className:"data-table-row border-b border-gray-200 hover:bg-gray-50",children:t.map(t=>s.jsx("td",{className:"px-4 py-2 text-black",children:"timestamp"===t.key?o(e.timestamp):d(e[t.key])},t.key))},a))})]})})}),(0,s.jsxs)("div",{className:"text-sm text-black mt-3 font-medium",children:["Showing ",l.length," of ",e.length," items"]})]})}),j=(0,r.memo)(function({metrics:e}){let t=e.fps>=55?"text-green-400":e.fps>=30?"text-yellow-400":"text-red-400",a=e.renderTime<16?"text-green-400":e.renderTime<33?"text-yellow-400":"text-red-400";return(0,s.jsxs)("div",{className:"dashboard-card p-4 md:p-6",children:[(0,s.jsxs)("h3",{className:"text-base md:text-lg font-semibold mb-4 flex items-center gap-2 text-black",children:[s.jsx("span",{className:"w-2 h-2 bg-green-500 rounded-full animate-pulse"}),"Performance Metrics"]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-3 md:gap-4",children:[(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[s.jsx("div",{className:"text-xs md:text-sm text-black mb-1 font-medium",children:"FPS"}),s.jsx("div",{className:`text-xl md:text-2xl font-bold ${t}`,children:e.fps.toFixed(1)})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[s.jsx("div",{className:"text-xs md:text-sm text-black mb-1 font-medium",children:"Render Time"}),(0,s.jsxs)("div",{className:`text-xl md:text-2xl font-bold ${a}`,children:[e.renderTime.toFixed(2),"ms"]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[s.jsx("div",{className:"text-xs md:text-sm text-black mb-1 font-medium",children:"Memory"}),(0,s.jsxs)("div",{className:"text-lg md:text-xl font-semibold text-blue-600",children:[e.memoryUsage.toFixed(1)," MB"]})]}),(0,s.jsxs)("div",{className:"bg-gray-50 rounded-lg p-3 border border-gray-200",children:[s.jsx("div",{className:"text-xs md:text-sm text-black mb-1 font-medium",children:"Data Points"}),s.jsx("div",{className:"text-lg md:text-xl font-semibold text-purple-600",children:e.dataPointCount.toLocaleString()})]})]})]})});class w{constructor(e=100,t=.1,a=10){this.categoryIndex=0,this.categories=["A","B","C","D","E"],this.baseValue=e,this.trend=t,this.noise=a}generatePoint(e,t=0){let a=e%864e5/864e5,s=this.trend*t,r=(Math.random()-.5)*this.noise;return{timestamp:e,value:Math.max(0,Math.round(100*(this.baseValue+s+r+5*Math.sin(a*Math.PI*2)))/100),category:this.categories[this.categoryIndex%this.categories.length],metadata:{index:t,timeFactor:a}}}generateBatch(e,t,a=1e3){let s=[];for(let r=0;r<t;r++)s.push(this.generatePoint(e+r*a,r));return this.categoryIndex++,s}generateHeatmapData(e,t,a,s=1e3){let r=[];for(let l=0;l<e;l++)for(let e=0;e<t;e++){let n=a+l*s,i=this.generatePoint(n,l*t+e);r.push({x:l,y:e,value:i.value,timestamp:n})}return r}reset(){this.categoryIndex=0}}function N({id:e,children:t,onRender:a}){return s.jsx(r.Profiler,{id:e,onRender:a||((e,t,a,s,r,l)=>{}),children:t})}let k=[{label:"1 Minute",value:"1min",milliseconds:6e4},{label:"5 Minutes",value:"5min",milliseconds:3e5},{label:"1 Hour",value:"1hour",milliseconds:36e5}],P={width:800,height:400,margin:{top:20,right:20,bottom:40,left:60},showGrid:!0,showLegend:!1};function C(){let{data:e,aggregatedData:t,aggregationPeriod:a,filters:i,setAggregationPeriod:c,setFilters:o}=function(){let e=(0,r.useContext)(n);if(!e)throw Error("useDataContext must be used within DataProvider");return e}(),[d,u]=(0,r.useState)("line"),[p,v]=(0,r.useState)({x:[0,1],y:[0,1]}),N=(0,r.useRef)(null),[k,C]=(0,r.useState)({width:800,height:400}),{metrics:M,measureRender:S}=function(e){let[t,a]=(0,r.useState)({fps:60,renderTime:0,memoryUsage:0,dataPointCount:0}),s=(0,r.useRef)(new l),n=(0,r.useRef)(null),i=(0,r.useCallback)(e=>s.current.measureRender(e),[]);return(0,r.useEffect)(()=>{let t=()=>{s.current.update(),a(s.current.getMetrics(e)),n.current=requestAnimationFrame(t)};return n.current=requestAnimationFrame(t),()=>{n.current&&cancelAnimationFrame(n.current)}},[e]),{metrics:t,measureRender:i}}(e.length);(0,r.useEffect)(()=>{let e=()=>{N.current&&C({width:Math.min(N.current.offsetWidth-40,1200),height:400})};return e(),window.addEventListener("resize",e),()=>window.removeEventListener("resize",e)},[]);let R=(0,r.useMemo)(()=>{if(0===e.length)return{...P,...k};let t=e.map(e=>e.timestamp),a=Math.min(...t),s=Math.max(...t)-a;return{...P,...k,xMin:0!==p.x[0]||1!==p.x[1]?a+p.x[0]*s:void 0,xMax:0!==p.x[0]||1!==p.x[1]?a+p.x[1]*s:void 0}},[k,p,e]),T=(0,r.useMemo)(()=>"1min"!==a.value?t:e,[e,t,a]),E=(0,r.useMemo)(()=>"heatmap"!==d?[]:new w().generateHeatmapData(20,20,Date.now()-36e5,1e3),[d]),D=(0,r.useCallback)(e=>{o({...i,...e})},[i,o]),$=(0,r.useCallback)(e=>{c(e)},[c]),F=(0,r.useCallback)((e,t)=>{o({...i,dateRange:{start:e,end:t}})},[i,o]);return(0,s.jsxs)("div",{className:"dashboard-container p-4 md:p-6 lg:p-8 space-y-4 md:space-y-6",children:[(0,s.jsxs)("div",{className:"flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[s.jsx("h1",{className:"text-2xl md:text-3xl lg:text-4xl font-bold text-white drop-shadow-lg",children:"Performance Dashboard"}),(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:()=>u("line"),className:`chart-type-btn ${"line"===d?"active":""}`,children:"Line"}),s.jsx("button",{onClick:()=>u("bar"),className:`chart-type-btn ${"bar"===d?"active":""}`,children:"Bar"}),s.jsx("button",{onClick:()=>u("scatter"),className:`chart-type-btn ${"scatter"===d?"active":""}`,children:"Scatter"}),s.jsx("button",{onClick:()=>u("heatmap"),className:`chart-type-btn ${"heatmap"===d?"active":""}`,children:"Heatmap"})]})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4 md:gap-6",children:[s.jsx("div",{className:"lg:col-span-3",children:(0,s.jsxs)("div",{ref:N,className:"dashboard-card p-4 md:p-6",children:[(0,s.jsxs)("div",{className:"mb-4",children:[(0,s.jsxs)("h2",{className:"text-lg md:text-xl font-semibold text-black",children:[d.charAt(0).toUpperCase()+d.slice(1)," Chart"]}),s.jsx("p",{className:"text-sm text-black",children:"Real-time data visualization"})]}),"line"===d&&s.jsx(h,{data:T,config:R,onRender:()=>S(()=>{})}),"bar"===d&&s.jsx(m,{data:T,config:R,onRender:()=>S(()=>{})}),"scatter"===d&&s.jsx(x,{data:T,config:R,onRender:()=>S(()=>{})}),"heatmap"===d&&s.jsx(g,{width:20,height:20,data:E,config:R,onRender:()=>S(()=>{})})]})}),s.jsx("div",{className:"space-y-4",children:s.jsx(j,{metrics:M})})]}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 md:gap-6",children:[s.jsx("div",{className:"dashboard-card p-4 md:p-6",children:s.jsx(f,{onFilterChange:D})}),s.jsx("div",{className:"dashboard-card p-4 md:p-6",children:s.jsx(b,{onPeriodChange:$,onDateRangeChange:F})}),(0,s.jsxs)("div",{className:"dashboard-card p-4 md:p-6",children:[(0,s.jsxs)("h3",{className:"text-base md:text-lg font-semibold mb-4 text-black flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Data Statistics"]}),(0,s.jsxs)("div",{className:"space-y-3",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-black",children:"Total Points"}),s.jsx("span",{className:"font-semibold text-purple-600",children:e.length.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-black",children:"Displayed"}),s.jsx("span",{className:"font-semibold text-purple-600",children:T.length.toLocaleString()})]}),(0,s.jsxs)("div",{className:"flex justify-between items-center p-2 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"text-sm text-black",children:"Aggregation"}),s.jsx("span",{className:"font-semibold text-purple-600",children:a.label})]})]})]})]}),(0,s.jsxs)("div",{className:"dashboard-card p-4 md:p-6",children:[(0,s.jsxs)("h2",{className:"text-xl md:text-2xl font-semibold mb-4 text-black flex items-center gap-2",children:[s.jsx("span",{className:"w-2 h-2 bg-purple-500 rounded-full"}),"Data Table"]}),s.jsx(y,{data:T.slice(-100)})]})]})}function M(){let{data:e,isStreaming:t,start:a,stop:l,reset:n}=function(e={}){let{interval:t=100,maxPoints:a=1e4,autoStart:s=!0}=e,[l,n]=(0,r.useState)([]),[i,c]=(0,r.useState)(s),[o,d]=(0,r.useState)(null),h=(0,r.useRef)(null),m=(0,r.useRef)(null),x=(0,r.useRef)(Date.now()),u=(0,r.useCallback)(async()=>{if(i)try{let e=new AbortController;m.current=e;let s=await fetch(`/api/data?count=1&startTime=${x.current}&interval=${t}`,{signal:e.signal});if(!s.ok)throw Error("Failed to fetch data");let l=(await s.json()).data[0];l&&(x.current=l.timestamp+t,(0,r.startTransition)(()=>{n(e=>{let t=[...e,l];return t.length>a?t.slice(-a):t})}))}catch(e){e instanceof Error&&"AbortError"!==e.name&&(d(e),c(!1))}finally{m.current=null}},[i,t,a]);(0,r.useEffect)(()=>(i?h.current=setInterval(u,t):(h.current&&(clearInterval(h.current),h.current=null),m.current&&m.current.abort()),()=>{h.current&&clearInterval(h.current),m.current&&m.current.abort()}),[i,u,t]);let g=(0,r.useCallback)(()=>{c(!0),d(null)},[]),f=(0,r.useCallback)(()=>{c(!1)},[]),p=(0,r.useCallback)(()=>{n([]),x.current=Date.now(),d(null)},[]);return{data:(0,r.useMemo)(()=>l,[l]),isStreaming:i,error:o,start:g,stop:f,reset:p,count:l.length}}({interval:100,maxPoints:1e4,autoStart:!0}),[c,o]=(0,r.useState)(k[0]),[d,h]=(0,r.useState)({});return s.jsx(N,{id:"DashboardPage",children:s.jsx(i,{data:e,aggregationPeriod:c,filters:d,setAggregationPeriod:o,setFilters:h,children:(0,s.jsxs)("div",{className:"min-h-screen",children:[(0,s.jsxs)("div",{className:"dashboard-card m-4 md:m-6 mb-0 p-4 md:p-6 flex flex-col md:flex-row justify-between items-start md:items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex flex-wrap gap-2",children:[s.jsx("button",{onClick:t?l:a,className:t?"btn-danger":"btn-success",children:t?"⏹ Stop Stream":"▶ Start Stream"}),s.jsx("button",{onClick:n,className:"btn-secondary",children:"\uD83D\uDD04 Reset"})]}),(0,s.jsxs)("div",{className:"flex items-center gap-4",children:[(0,s.jsxs)("div",{className:"flex items-center gap-2",children:[s.jsx("div",{className:`w-3 h-3 rounded-full ${t?"bg-green-500 animate-pulse":"bg-gray-500"}`}),s.jsx("span",{className:"text-sm md:text-base font-medium text-black",children:t?"Streaming":"Stopped"})]}),(0,s.jsxs)("div",{className:"text-sm md:text-base text-black font-semibold",children:["\uD83D\uDCCA ",e.length.toLocaleString()," Points"]})]})]}),s.jsx(C,{})]})})})}},7869:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`D:\s7\flame\performance-dashboard\app\dashboard\error.tsx#default`)},3321:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(9510);function r({children:e}){return s.jsx(s.Fragment,{children:e})}},4481:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>r});var s=a(9510);function r(){return s.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500 mx-auto mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading dashboard..."})]})})}},9521:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>s});let s=(0,a(8570).createProxy)(String.raw`D:\s7\flame\performance-dashboard\app\dashboard\page.tsx#default`)},1506:(e,t,a)=>{"use strict";a.r(t),a.d(t,{default:()=>l,metadata:()=>r});var s=a(9510);a(1159),a(7272);let r={title:"Performance Dashboard",description:"High-performance real-time dashboard"};function l({children:e}){return s.jsx("html",{lang:"en",children:s.jsx("body",{children:e})})}},7272:()=>{}};var t=require("../../webpack-runtime.js");t.C(e);var a=e=>t(t.s=e),s=t.X(0,[819],()=>a(1807));module.exports=s})();